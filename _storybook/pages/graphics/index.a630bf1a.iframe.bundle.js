(window.webpackJsonp=window.webpackJsonp||[]).push([[47,13],{"./components/graphics/GraphicsExample.vue":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js");var camera,scene,renderer,controls,raycaster,three_module=__webpack_require__("./node_modules/three/build/three.module.js"),PointerLockControls=__webpack_require__("./node_modules/three/examples/jsm/controls/PointerLockControls.js"),browser=__webpack_require__("./node_modules/universal-perf-hooks/dist/browser.js"),objects=[],moveForward=!1,moveBackward=!1,moveLeft=!1,moveRight=!1,canJump=!1,prevTime=browser.performance.now(),velocity=new three_module.o,direction=new three_module.o,vertex=new three_module.o,color=new three_module.b,graphics_GraphicsExamplevue_type_script_lang_js_={name:"ThreeTest",data:function data(){return{}},mounted:function mounted(){this.init(),this.animate()},methods:{init:function init(){var container=document.getElementById("canvas");(camera=new three_module.k(70,container.clientWidth/container.clientHeight,1,1e3)).position.y=10,(scene=new three_module.n).background=new three_module.b(16777215),scene.fog=new three_module.f(16777215,0,750);var light=new three_module.g(15658751,7829384,.75);light.position.set(.5,1,.75),scene.add(light),controls=new PointerLockControls.a(camera,document.body);var blocker=document.getElementById("blocker"),instructions=document.getElementById("instructions");instructions.addEventListener("click",(function(){controls.lock()})),controls.addEventListener("lock",(function(){instructions.style.display="none",blocker.style.display="none"})),controls.addEventListener("unlock",(function(){blocker.style.display="block",instructions.style.display=""})),scene.add(controls.getObject());document.addEventListener("keydown",(function(e){return function onKeyDown(event){switch(controls.isLocked&&event.preventDefault(),event.code){case"ArrowUp":case"KeyW":moveForward=!0;break;case"ArrowLeft":case"KeyA":moveLeft=!0;break;case"ArrowDown":case"KeyS":moveBackward=!0;break;case"ArrowRight":case"KeyD":moveRight=!0;break;case"Space":!0===canJump&&(velocity.y+=50),canJump=!1}}(e)})),document.addEventListener("keyup",(function(e){return function onKeyUp(event){switch(controls.isLocked&&event.preventDefault(),event.code){case"ArrowUp":case"KeyW":moveForward=!1;break;case"ArrowLeft":case"KeyA":moveLeft=!1;break;case"ArrowDown":case"KeyS":moveBackward=!1;break;case"ArrowRight":case"KeyD":moveRight=!1}}(e)})),raycaster=new three_module.m(new three_module.o,new three_module.o(0,-1,0),0,10);var floorGeometry=new three_module.l(2e3,2e3,100,100);floorGeometry.rotateX(-Math.PI/2);for(var position=floorGeometry.attributes.position,i=0,l=position.count;i<l;i++)vertex.fromBufferAttribute(position,i),vertex.x+=20*Math.random()-10,vertex.y+=2*Math.random(),vertex.z+=20*Math.random()-10,position.setXYZ(i,vertex.x,vertex.y,vertex.z);for(var colorsFloor=[],_i=0,_l=(position=(floorGeometry=floorGeometry.toNonIndexed()).attributes.position).count;_i<_l;_i++)color.setHSL(.3*Math.random()+.5,.75,.25*Math.random()+.75),colorsFloor.push(color.r,color.g,color.b);floorGeometry.setAttribute("color",new three_module.e(colorsFloor,3));var floorMaterial=new three_module.i({vertexColors:!0}),floor=new three_module.h(floorGeometry,floorMaterial);scene.add(floor);for(var boxGeometry=new three_module.a(5,5,5).toNonIndexed(),colorsBox=[],_i2=0,_l2=(position=boxGeometry.attributes.position).count;_i2<_l2;_i2++)color.setHSL(.3*Math.random()+.5,.75,.25*Math.random()+.75),colorsBox.push(color.r,color.g,color.b);boxGeometry.setAttribute("color",new three_module.e(colorsBox,3));for(var _i3=0;_i3<64;_i3++){var boxMaterial=new three_module.j({specular:16777215,flatShading:!0,vertexColors:!0});boxMaterial.color.setHSL(.2*Math.random()+.5,.75,.25*Math.random()+.75);var box=new three_module.h(boxGeometry,boxMaterial);box.position.x=5*Math.floor(10*Math.random()-10),box.position.y=5*Math.floor(10*Math.random())+2.5,box.position.z=5*Math.floor(10*Math.random()-10),scene.add(box),objects.push(box)}(renderer=new three_module.p({antialias:!0})).setPixelRatio(window.devicePixelRatio),renderer.setSize(container.clientWidth,container.clientHeight),container.appendChild(renderer.domElement),window.addEventListener("resize",this.onWindowResize)},animate:function animate(){requestAnimationFrame(this.animate);var time=browser.performance.now();if(!0===controls.isLocked){raycaster.ray.origin.copy(controls.getObject().position),raycaster.ray.origin.y-=2.5;var onObject=raycaster.intersectObjects(objects,!1).length>0,delta=(time-prevTime)/1e3;velocity.x-=10*velocity.x*delta,velocity.z-=10*velocity.z*delta,velocity.y-=137.5*delta,direction.z=Number(moveForward)-Number(moveBackward),direction.x=Number(moveRight)-Number(moveLeft),direction.normalize(),(moveForward||moveBackward)&&(velocity.z-=400*direction.z*delta),(moveLeft||moveRight)&&(velocity.x-=400*direction.x*delta),!0===onObject&&(velocity.y=Math.max(0,velocity.y),canJump=!0),controls.moveRight(-velocity.x*delta),controls.moveForward(-velocity.z*delta),controls.getObject().position.y+=velocity.y*delta,controls.getObject().position.y<10&&(velocity.y=0,controls.getObject().position.y=10,canJump=!0)}prevTime=time,renderer.render(scene,camera)},onWindowResize:function onWindowResize(){var container=document.getElementById("canvas");camera.aspect=container.clientWidth/container.clientHeight,camera.updateProjectionMatrix(),renderer.setSize(container.clientWidth,container.clientHeight)}}},componentNormalizer=__webpack_require__("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");const __vuedocgen_export_0=Object(componentNormalizer.a)(graphics_GraphicsExamplevue_type_script_lang_js_,(function render(){this._self._c;return this._m(0)}),[function(){var _c=this._self._c;return _c("div",[_c("div",{staticClass:"overflow-hidden relative mx-auto rounded ring-2 ring-gray-200",staticStyle:{height:"480px","caret-color":"transparent"},attrs:{id:"canvas"}},[_c("div",{staticClass:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",attrs:{id:"blocker"}},[_c("div",{staticClass:"py-5 px-8 bg-gray-50 rounded shadow",attrs:{id:"instructions"}},[_c("div",{staticClass:"flex flex-col"},[_c("h2",{staticClass:"mx-auto text-lg font-semibold text-gray-700"},[this._v("\n            Click to play\n          ")]),this._v(" "),_c("div",{staticClass:"mt-1 text-sm text-gray-900"},[_c("p",{staticClass:"text-center"},[this._v("Move: WASD, Space")]),this._v(" "),_c("p",{staticClass:"text-center"},[this._v("Camera: Mouse")]),this._v(" "),_c("p",{staticClass:"text-center"},[this._v("Pause: Esc")])])])])])])])}],!1,null,null,null).exports;__webpack_exports__.default=__vuedocgen_export_0;__vuedocgen_export_0.__docgenInfo={displayName:"ThreeTest",exportName:"default",description:"",tags:{}}},"./pages/graphics/index.vue":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var pages_graphicsvue_type_script_lang_js_=__webpack_require__("./node_modules/vue/dist/vue.esm.js").a.extend({name:"GraphicsPage"}),componentNormalizer=__webpack_require__("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),component=Object(componentNormalizer.a)(pages_graphicsvue_type_script_lang_js_,(function render(){var _c=this._self._c;this._self._setupProxy;return _c("div",[_c("Section",[_c("h1",{staticClass:"text-3xl sm:text-4xl font-black text-gray-100 uppercase"},[this._v("\n      Graphics example\n    ")]),this._v(" "),_c("h1",{staticClass:"mt-2 text-lg text-gray-200"},[this._v("For keyboard and mouse users")]),this._v(" "),_c("GraphicsExample",{staticClass:"mt-5 sm:mt-8"})],1)],1)}),[],!1,null,null,null);const __vuedocgen_export_0=component.exports;__webpack_exports__.default=__vuedocgen_export_0;installComponents(component,{GraphicsExample:__webpack_require__("./components/graphics/GraphicsExample.vue").default,Section:__webpack_require__("./components/section/Section.vue").default}),__vuedocgen_export_0.__docgenInfo={displayName:"GraphicsPage",exportName:"default",description:"",tags:{}}}}]);