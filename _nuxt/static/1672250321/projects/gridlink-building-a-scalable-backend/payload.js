__NUXT_JSONP__("/projects/gridlink-building-a-scalable-backend", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm){return {data:[{post:{slug:"gridlink-building-a-scalable-backend",description:"Building a database and REST API using Django and PostgreSQL",title:"Building a scalable backend",subtitle:aU,series:"Gridlink",localimage:"\u002Fimages\u002Fdjango-postgres.png",publishedAt:"2022-12-03T09:00:00.000Z",tags:aU,published:true,toc:[{id:aV,depth:Y,text:aW},{id:T,depth:Y,text:aX},{id:aY,depth:Y,text:aZ},{id:a_,depth:Y,text:a$},{id:ba,depth:ab,text:bb},{id:bc,depth:Y,text:bd},{id:be,depth:Y,text:bf},{id:bg,depth:ab,text:bh},{id:bi,depth:ab,text:bj},{id:bk,depth:ab,text:bl},{id:bm,depth:Y,text:bn},{id:bo,depth:ab,text:bp},{id:bq,depth:ab,text:br}],body:{type:"root",children:[{type:b,tag:Z,props:{id:aV},children:[{type:b,tag:D,props:{href:"#introduction",ariaHidden:H,tabIndex:I},children:[{type:b,tag:c,props:{className:[J,K]},children:[]}]},{type:a,value:aW}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"Django is a framework for building monolithic web applications."}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"Although not typically associated with performance at scale, a monolith can be feasible if it is kept "},{type:b,tag:ar,props:{},children:[{type:a,value:"stateless"}]},{type:a,value:" and "},{type:b,tag:ar,props:{},children:[{type:a,value:"modular"}]},{type:a,value:g}]},{type:a,value:i},{type:b,tag:ay,props:{},children:[{type:a,value:i},{type:b,tag:P,props:{},children:[{type:a,value:"Statelessness, where an application server is dependent only on third-party storage, allows us to leverage horizontal scaling. This is the usage of parallel servers to distribute load across multiple nodes."}]},{type:a,value:i},{type:b,tag:P,props:{},children:[{type:a,value:"Modularity will allow us to easily migrate to a microservices architecture in the future."}]},{type:a,value:i}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"Django already encourages breaking a project into apps, where each app has its own data models, data views, routes and tests. It also comes with an object-relational mapper (ORM) for interfacing with an SQL database. These characteristics lead to a well-structured Django project being logically similar to microservices."}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"How about the database? Postgres already does a good job of handling tens of thousands of concurrent requests per second, which means that we won't have to worry about scaling for a while. If needed, we can explore single-master replication, where data is modified on a single write node and replicated to many read nodes."}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"All in all, the only major drawback is that the entire monolith is replicated when horizontally scaling. This results in a suboptimal usage of server resources, as well as increased scale-out times. For the time being, this is a sound compromise."}]},{type:a,value:i},{type:b,tag:Z,props:{id:T},children:[{type:b,tag:D,props:{href:"#models",ariaHidden:H,tabIndex:I},children:[{type:b,tag:c,props:{className:[J,K]},children:[]}]},{type:a,value:aX}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"Database models are defined using Python classes that inherit from Django's "},{type:b,tag:q,props:{},children:[{type:a,value:"models.Model"}]},{type:a,value:" class."}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"Models are a collection of fields, where each has a field type and various parameters such as constraints, default values and indexes."}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"Gridlink allows a user to create many grids, where each grid has many links. Here, we define the grid model with Django:"}]},{type:a,value:i},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,M]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ak]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:bs},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"User"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bu},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\"grids\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bw},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"unique"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bx},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:aD},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"\n    title "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:by},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"max_length"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bz}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:" blank"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"\n    created_on "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"\n    modified_on "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:al},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"\n    deleted_on "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:al},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"\n    is_deleted "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:bC},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:i}]}]}]},{type:a,value:i},{type:b,tag:Z,props:{id:aY},children:[{type:b,tag:D,props:{href:"#database",ariaHidden:H,tabIndex:I},children:[{type:b,tag:c,props:{className:[J,K]},children:[]}]},{type:a,value:aZ}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"After defining the data models, Django provides two commands to create the necessary database tables and columns."}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:bD},{type:b,tag:q,props:{},children:[{type:a,value:"makemigrations"}]},{type:a,value:" command will generate the migration files that define changes to a database schema. These files are treated as source code and committed to the repository."}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"Here is the relevant part of the generated migration for creating the grid model:"}]},{type:a,value:i},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,M]},children:[{type:b,tag:q,props:{},children:[{type:a,value:"migrations"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"CreateModel"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"\n    name"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\"Grid\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n    fields"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bE}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"BigAutoField"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"\n                auto_created"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n                primary_key"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n                serialize"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n                verbose_name"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\"ID\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:"grids"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aD},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:" unique"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:by},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:al},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:" max_length"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bz}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\"created_on\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\"modified_on\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:al},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\"deleted_on\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:al},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\"is_deleted\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:bC},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\"user\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"\n                on_delete"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:"django"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"db"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"deletion"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n                to"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:"settings"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"AUTH_USER_MODEL"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:i}]}]}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:bD},{type:b,tag:q,props:{},children:[{type:a,value:"migrate"}]},{type:a,value:" command will search for unapplied migrations in the project, and then apply these changes to a database. By running this command before spinning up the application, the database will always be in-sync with the defined data models."}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"Django's object-relational mapper (ORM) can be used to perform CRUD (create, read, update, delete) operations on the database. This allows for interaction with the database using Python code, while still maintaining the performance of raw SQL queries."}]},{type:a,value:i},{type:b,tag:Z,props:{id:a_},children:[{type:b,tag:D,props:{href:"#api",ariaHidden:H,tabIndex:I},children:[{type:b,tag:c,props:{className:[J,K]},children:[]}]},{type:a,value:a$}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"Django REST framework ("},{type:b,tag:q,props:{},children:[{type:a,value:"django-rest-framework"}]},{type:a,value:") provides a platter of tools and utilities that make it easy to create API endpoints, including serialisers, viewsets and routers. These allow you to create API endpoints by defining the serialisation, queryset and other behaviors in a declarative manner."}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"First, we create a serialiser class that defines how a data model should be serialised and deserialised. For example, this is a general serialiser for the link model. By default, the grid's primary key will be serialised, but we can switch this out for its slug instead."}]},{type:a,value:i},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,M]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ak]},children:[{type:a,value:"LinkDetailSerialiser"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"serializers"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"ModelSerializer"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:aG},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:" serializers"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"SlugRelatedField"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"slug_field"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:" read_only"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ak]},children:[{type:a,value:"Meta"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"\n        model "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:" Link\n        fields "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\"__all__\""}]},{type:a,value:i}]}]}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"Once our serialiser is defined, we can use it within a viewset. This is where we write the logic for each HTTP method."}]},{type:a,value:i},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,M]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ak]},children:[{type:a,value:"LinkViewSet"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"viewsets"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"ViewSet"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:U}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:bH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:X},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:U}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:aI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:X},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"\n        qs "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:aL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:bI},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,ad]},children:[{type:a,value:av}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"\n        link "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:aO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"\n        serializer "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:" LinkDetailSerialiser"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"link"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"return"}]},{type:a,value:" Response"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"serializer"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:U}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:"list"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:X},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:i}]}]}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"Finally, we can point routes to this viewset."}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"Since we're using DRF's "},{type:b,tag:q,props:{},children:[{type:a,value:"viewsets.ViewSet"}]},{type:a,value:", requests are already handled appropriately based on method ("},{type:b,tag:q,props:{},children:[{type:a,value:"GET"}]},{type:a,value:", "},{type:b,tag:q,props:{},children:[{type:a,value:"POST"}]},{type:a,value:", etc.) and URL ("},{type:b,tag:q,props:{},children:[{type:a,value:"\u002Flinks\u002F"}]},{type:a,value:" vs. "},{type:b,tag:q,props:{},children:[{type:a,value:"\u002Flinks\u002F{id}\u002F"}]},{type:a,value:")."}]},{type:a,value:i},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,M]},children:[{type:b,tag:q,props:{},children:[{type:a,value:"links_router "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:" routers"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"DefaultRouter"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"\nlinks_router"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"register"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"r\"links\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:" LinkViewSet"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:" basename"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:i}]}]}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"Perfect! We can now make calls to our API."}]},{type:a,value:i},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,bL]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"\u002F\u002F GET \u002Fapi\u002Flinks\u002Fli_287df45a6c294bb397a5acd29cdbf63f\u002F"}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"\u002F\u002F HTTP 200 OK"}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"\u002F\u002F Allow: GET, PUT, PATCH, DELETE, HEAD, OPTIONS"}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"\u002F\u002F Content-Type: application\u002Fjson"}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"\u002F\u002F Vary: Accept"}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ae}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\"li_287df45a6c294bb397a5acd29cdbf63f\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:bF}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\"Portfolio\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:"\"background\""}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\"\u002Fbg\u002Fcolours.jpg\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:"\"width\""}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bN}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:"\"height\""}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:an}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"\u002F\u002F ..."}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:af}]},{type:a,value:i}]}]}]},{type:a,value:i},{type:b,tag:ag,props:{id:ba},children:[{type:b,tag:D,props:{href:"#slugs",ariaHidden:H,tabIndex:I},children:[{type:b,tag:c,props:{className:[J,K]},children:[]}]},{type:a,value:bb}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"Across the API, Gridlink obfuscates the primary keys of objects with slugs to prevent "},{type:b,tag:D,props:{href:"https:\u002F\u002Fwiki.owasp.org\u002Findex.php\u002FTop_10_2013-A4-Insecure_Direct_Object_References",rel:[bO,bP,bQ],target:bR},children:[{type:a,value:"insecure direct object references"}]},{type:a,value:g}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"This is to avoid sequential, predictable keys, which are a source of information leakage. We would like to avoid the potential business impacts, such as exposing the total number objects and the rate of their creation, and technical impacts, such as inviting bad actors to iterate over and archive the database (and possibly cause a denial of service)."}]},{type:a,value:i},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,bL]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ae}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bM}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:af}]},{type:a,value:i}]}]}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"Inspiration for the format was taken from Stripe's "},{type:b,tag:D,props:{href:"https:\u002F\u002Fdev.to\u002Fstripe\u002Fdesigning-apis-for-humans-object-ids-3o5a",rel:[bO,bP,bQ],target:bR},children:[{type:a,value:"Designing APIs for humans"}]},{type:a,value:" series. Stripe prefixes slugs with model identifiers to prevent human error, both for internal developers and for their customers."}]},{type:a,value:i},{type:b,tag:Z,props:{id:bc},children:[{type:b,tag:D,props:{href:"#authentication",ariaHidden:H,tabIndex:I},children:[{type:b,tag:c,props:{className:[J,K]},children:[]}]},{type:a,value:bd}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"Authentication is the process of identifying, and verifying the identity of, a user. This is initially achieved through the use of a username and password."}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"To avoid having to store the password and re-send it on every request, which poses an inherent security risk, we can use a token-based system. In short, a token represents the user's credentials, and can be stored and utilised as a guarantee of their identity instead."}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"We have several token-based solutions available, including:"}]},{type:a,value:i},{type:b,tag:"ol",props:{},children:[{type:a,value:i},{type:b,tag:P,props:{},children:[{type:a,value:"Basic token authentication:\n"},{type:b,tag:ay,props:{},children:[{type:a,value:i},{type:b,tag:P,props:{},children:[{type:a,value:"One token for all sessions"}]},{type:a,value:i},{type:b,tag:P,props:{},children:[{type:a,value:"Tracked in the database and can be revoked (forced logout)"}]},{type:a,value:i},{type:b,tag:P,props:{},children:[{type:a,value:"Does not implicitly store details\u002Fpermissions and must be looked up"}]},{type:a,value:i}]},{type:a,value:i}]},{type:a,value:i},{type:b,tag:P,props:{},children:[{type:a,value:"JSON Web Token (JWT):\n"},{type:b,tag:ay,props:{},children:[{type:a,value:i},{type:b,tag:P,props:{},children:[{type:a,value:"One token per session"}]},{type:a,value:i},{type:b,tag:P,props:{},children:[{type:a,value:"Does not require database storage, and works on an refresh\u002Fexpire model"}]},{type:a,value:i},{type:b,tag:P,props:{},children:[{type:a,value:"Includes details\u002Fpermissions signed by the server (can be trusted)"}]},{type:a,value:i}]},{type:a,value:i}]},{type:a,value:i}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"Several well-maintained packages for dealing with authentication are available. For example, "},{type:b,tag:q,props:{},children:[{type:a,value:"dj-rest-auth"}]},{type:a,value:" provides methods and respective endpoints for signing up, logging in, resetting and password and social media authentication."}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"Once installed, the client can fetch and then send their token in their requests:"}]},{type:a,value:i},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,"language-js"]},children:[{type:b,tag:q,props:{},children:[{type:a,value:"headers "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ae}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,bS,O]},children:[{type:a,value:"Vary"}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,"maybe-class-name"]},children:[{type:a,value:"Origin"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,bT,O]},children:[{type:a,value:"'Access-Control-Allow-Origin'"}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"'https:\u002F\u002Fgridl.ink'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,bS,O]},children:[{type:a,value:"Authorization"}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"'Token '"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bU}]},{type:a,value:" authtoken "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bU}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"''"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,bT,O]},children:[{type:a,value:"'X-CSRFToken'"}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:s}]},{type:a,value:" csrftoken"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:af}]},{type:a,value:i}]}]}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"If a valid token is sent, we'll have access to the user's identity in the "},{type:b,tag:q,props:{},children:[{type:a,value:aQ}]},{type:a,value:" attribute of the "},{type:b,tag:q,props:{},children:[{type:a,value:bV}]},{type:a,value:" object. We can thus define the handling of the request accordingly:"}]},{type:a,value:i},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,M]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:U}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:bH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:X},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"# Handle user is not authenticated"}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bW}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"not"}]},{type:a,value:X},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"is_authenticated"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bX}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\"You must be logged in to access this resource.\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:af}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"# Get grid object from slug"}]},{type:a,value:aG},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:bV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bE}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"# Handle grid does not belong to user"}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bW}]},{type:a,value:" grid"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"user "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"!="}]},{type:a,value:X},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bX}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\"You don't have permission to add links to this grid.\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:af}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:i}]}]}]},{type:a,value:i},{type:b,tag:Z,props:{id:be},children:[{type:b,tag:D,props:{href:"#optimisation",ariaHidden:H,tabIndex:I},children:[{type:b,tag:c,props:{className:[J,K]},children:[]}]},{type:a,value:bf}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"Django's ORM is incredibly useful, but is has one rule for oerformance and optimisation: "},{type:b,tag:ar,props:{},children:[{type:a,value:"work at the appropriate level"}]},{type:a,value:". This means performing operations at the database level, instead of through multiple levels of abstraction and layers of machinery."}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"This is because SQL is purpose-built for querying and manipulating structured data. Additionally, SQL has built-in aggregation functions that can optimise and even reduce the complexity of operations."}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"For example, how can we efficiently check the total number of links created?"}]},{type:a,value:i},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,M]},children:[{type:b,tag:q,props:{},children:[{type:a,value:"links "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:aL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,ad]},children:[{type:a,value:av}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"\n\nn "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ad]},children:[{type:a,value:"len"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"links"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"# O(n) Python operations"}]},{type:a,value:"\nn "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:" links"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"count"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"# SQL COUNT() -\u003E O(n) SQL operations, O(1) if row count cached"}]},{type:a,value:i}]}]}]},{type:a,value:i},{type:b,tag:ag,props:{id:bg},children:[{type:b,tag:D,props:{href:"#indexing",ariaHidden:H,tabIndex:I},children:[{type:b,tag:c,props:{className:[J,K]},children:[]}]},{type:a,value:bh}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"A database index is used to find out where a data row is located in a table. The benefit is that we don't have to scan the entire table when querying on an index."}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"By default, an auto-incrementing primary key serves as the sole index of a table. An easy way to improve query performance is to index additional columns. For example, in the user table, we can index by username in order to retrieve a user's details by username in O(1) time instead of O(n). Similarly, we can perform a uniqueness check on any indexed field in O(1) time."}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"A link's slug field is explicitly indexed within its database model:"}]},{type:a,value:i},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,M]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ak]},children:[{type:a,value:"Link"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:bs},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:aG},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bu},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bw},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"\n        unique"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bx},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:aD},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:" editable"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:_}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:i}]}]}]},{type:a,value:i},{type:b,tag:ag,props:{id:bi},children:[{type:b,tag:D,props:{href:"#select-related",ariaHidden:H,tabIndex:I},children:[{type:b,tag:c,props:{className:[J,K]},children:[]}]},{type:a,value:bj}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"A "},{type:b,tag:q,props:{},children:[{type:a,value:b_}]},{type:a,value:" clause is used to efficiently query data from multiple tables based on a shared column."}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"When fetching a link, the slug of its grid is returned in the response. However, within the database, the grid's primary key is stored in order to represent that relationship natively. Therefore, we need to query the slug from the grid object."}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"In order to serialise a list of 27 links "},{type:b,tag:ar,props:{},children:[{type:a,value:"without using an inner join"}]},{type:a,value:", we'd need 28 queries. This is why it's often referred to as the N+1 Queries problem."}]},{type:a,value:i},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,aR]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aS}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:R}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:L}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:S}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:G}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:b$}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:R}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:S}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aa}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:an}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ap}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aq}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ca}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:R}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:S}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aa}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:an}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ap}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aq}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"27."}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:R}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:S}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aa}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:cb}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ap}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aq}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"28."}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:R}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:S}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aa}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:cb}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ap}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aq}]},{type:a,value:i}]}]}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"Django's ORM provides "},{type:b,tag:q,props:{},children:[{type:a,value:cc}]},{type:a,value:", which will follow foreign-key relationships and fetch any additional related-object data by creating an SQL join."}]},{type:a,value:i},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,M]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:U}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:aI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:X},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:cd},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:aL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:bI},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,ad]},children:[{type:a,value:av}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"\n    link "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:aO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:i}]}]}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"This turns the 28 queries above into a single, efficient query:"}]},{type:a,value:i},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,aR]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aS}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:R}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:S}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:G}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"INNER"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:b_}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"ON"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:i}]}]}]},{type:a,value:i},{type:b,tag:ag,props:{id:bk},children:[{type:b,tag:D,props:{href:"#prefetch-related",ariaHidden:H,tabIndex:I},children:[{type:b,tag:c,props:{className:[J,K]},children:[]}]},{type:a,value:bl}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"The ORM also provides "},{type:b,tag:q,props:{},children:[{type:a,value:ce}]},{type:a,value:" in order to avoid iterating over a one-to-many relationship."}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"For example, when fetching a user's profile, Gridlink will serialise all of their grids, and for each grid links, each of its links. For 1 user with 3 grids, where each grid has and 3 links, we'd have a total of 13 queries."}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"We can reduce the total number of queries by prefetching the respective grids and links:"}]},{type:a,value:i},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,M]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:U}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:aI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:X},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:cd},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:cf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"prefetch_related"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\"grids__links\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,ad]},children:[{type:a,value:av}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:" username"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:aO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:i}]}]}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"This results in a single query per model:"}]},{type:a,value:i},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,aR]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aS}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:R}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ax}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ax}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:cg}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:S}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ax}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aa}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ax}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:cg}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"'test_user_0'"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ap}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aq}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:b$}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:R}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:L}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:S}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aa}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ai}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ch}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ca}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:R}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:L}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:S}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:G}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aa}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ch}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bN}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ci}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:i}]}]}]},{type:a,value:i},{type:b,tag:Z,props:{id:bm},children:[{type:b,tag:D,props:{href:"#tests",ariaHidden:H,tabIndex:I},children:[{type:b,tag:c,props:{className:[J,K]},children:[]}]},{type:a,value:bn}]},{type:a,value:i},{type:b,tag:ag,props:{id:bo},children:[{type:b,tag:D,props:{href:"#unit-tests",ariaHidden:H,tabIndex:I},children:[{type:b,tag:c,props:{className:[J,K]},children:[]}]},{type:a,value:bp}]},{type:a,value:i},{type:b,tag:ag,props:{id:bq},children:[{type:b,tag:D,props:{href:"#load-testing",ariaHidden:H,tabIndex:I},children:[{type:b,tag:c,props:{className:[J,K]},children:[]}]},{type:a,value:br}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"Load testing is typically performed on end-to-end infrastructure in order to test the effects of high demand. Gridlink performs load and query testing at the API level. The aim is to make sure that response times aren't creeping up as hundreds of thousands of objects are created."}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"In general, the cause of bad performance will be inefficient querying (a misused or forgetten "},{type:b,tag:q,props:{},children:[{type:a,value:cc}]},{type:a,value:" or "},{type:b,tag:q,props:{},children:[{type:a,value:ce}]},{type:a,value:"), and its effect will be slower response times as the number of objects grow."}]},{type:a,value:i},{type:b,tag:p,props:{},children:[{type:a,value:"Therefore, we can check these two core characteristics:"}]},{type:a,value:i},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,M]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:U}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:"setUpTestData"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"# Populate test database with 1,000,000 links"}]},{type:a,value:"\n    n_users "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"10_000"}]},{type:a,value:"\n    n_grids "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:cj}]},{type:a,value:"\n    n_links "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:cj}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"\n    self"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"test_user "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:cf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ck},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,ad]},children:[{type:a,value:"id"}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"495"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:U}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:"test_user_detail_time"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"# Start timer"}]},{type:a,value:"\n    tic "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:cl},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:cm},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"# Serialise a user's profile using exactly 3 queries"}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"with"}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"assertNumQueries"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ci}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"\n        response "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"client"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ck},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"\n            reverse"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\"users-detail\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:" kwargs"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"\"pk\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"test_user"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"username"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"# Assert response is \u003C 30ms"}]},{type:a,value:"\n    toc "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:l}]},{type:a,value:cl},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:cm},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"assert"}]},{type:a,value:" toc "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"-"}]},{type:a,value:" tic "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"\u003C"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"0.03"}]},{type:a,value:i}]}]}]}]},dir:"\u002Fprojects",path:"\u002Fprojects\u002Fgridlink-building-a-scalable-backend",extension:".md",createdAt:"2022-12-28T17:56:47.041Z",updatedAt:"2022-12-28T17:56:47.045Z"},_img:{"/_ipx/f_webp,s_32x32/images/logo.png":"\u002F_nuxt\u002Fimage\u002Fc04f6a.webp"}}],fetch:{},mutations:void 0}}("text","element","span","token","punctuation"," ",".","string","\n","operator",",","=","(",")","keyword","p","code","number",":","boolean","\"grids_grid\"","True","\n        ","\n    ","div","nuxt-content-highlight","pre","line-numbers","\"id\"","a","comment"," models","\"links_link\"","true",-1,"icon","icon-link","\"slug\"","language-python","\n  ","property","li","\n\n","SELECT","FROM","models","def","function","self"," request",2,"h2","False","\n            ","WHERE",3,"DateTimeField","builtin","{","}","h3","  ","\"user_id\"","class","class-name","blank","objects","1","\"grid_id\"","LIMIT","21","strong"," default"," null","\"grid\"","all"," get_object_or_404","\"accounts_user\"","ul","Grid","ForeignKey","CASCADE","SlugField","generate_slug","default","\n            models","\n    grid ","\n\n    ","retrieve"," pk","None"," Link","qs"," slug","pk"," is_deleted","user","language-sql","1."," self","","introduction","Introduction","Models","database","Database","api","API","slugs","Slugs","authentication","Authentication","optimisation","Optimisation","indexing","Indexing","select-related","Select related","prefetch-related","Prefetch related","tests","Tests","unit-tests","Unit tests","load-testing","Load testing","Model","\n    user "," on_delete"," related_name","\n    slug "," db_index","CharField","128","\"\"","auto_now_add","BooleanField","The ","[","\"title\"","]","create","select_related","data","\"links\"","language-json","\"gr_58b5fc7e8e854f469192a928518aea5b\"","2","nofollow","noopener","noreferrer","_blank","literal-property","string-property","+","request","if","raise"," PermissionDenied","\"message\"","JOIN","2.","3.","9","select_related()","\n    qs ","prefetch_related()"," User","\"username\"","IN","3","10","get"," time","perf_counter")));