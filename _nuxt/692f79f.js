(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{417:function(e,t,n){"use strict";n.r(t);n(162);var o,r,c,d,l,h=n(394),m=n(414),w=n(401),v=[],y=!1,f=!1,x=!1,k=!1,M=!1,z=w.performance.now(),A=new h.o,C=new h.o,L=new h.o,E=new h.b,S={name:"ThreeTest",data:function(){return{}},mounted:function(){this.init(),this.animate()},methods:{init:function(){var e=document.getElementById("canvas");(o=new h.k(70,e.clientWidth/e.clientHeight,1,1e3)).position.y=10,(r=new h.n).background=new h.b(16777215),r.fog=new h.f(16777215,0,750);var t=new h.g(15658751,7829384,.75);t.position.set(.5,1,.75),r.add(t),d=new m.a(o,document.body);var n=document.getElementById("blocker"),w=document.getElementById("instructions");w.addEventListener("click",(function(){d.lock()})),d.addEventListener("lock",(function(){w.style.display="none",n.style.display="none"})),d.addEventListener("unlock",(function(){n.style.display="block",w.style.display=""})),r.add(d.getObject());document.addEventListener("keydown",(function(e){return function(e){switch(d.isLocked&&e.preventDefault(),e.code){case"ArrowUp":case"KeyW":y=!0;break;case"ArrowLeft":case"KeyA":x=!0;break;case"ArrowDown":case"KeyS":f=!0;break;case"ArrowRight":case"KeyD":k=!0;break;case"Space":!0===M&&(A.y+=50),M=!1}}(e)})),document.addEventListener("keyup",(function(e){return function(e){switch(d.isLocked&&e.preventDefault(),e.code){case"ArrowUp":case"KeyW":y=!1;break;case"ArrowLeft":case"KeyA":x=!1;break;case"ArrowDown":case"KeyS":f=!1;break;case"ArrowRight":case"KeyD":k=!1}}(e)})),l=new h.m(new h.o,new h.o(0,-1,0),0,10);var z=new h.l(2e3,2e3,100,100);z.rotateX(-Math.PI/2);for(var C=z.attributes.position,i=0,S=C.count;i<S;i++)L.fromBufferAttribute(C,i),L.x+=20*Math.random()-10,L.y+=2*Math.random(),L.z+=20*Math.random()-10,C.setXYZ(i,L.x,L.y,L.z);for(var _=[],j=0,W=(C=(z=z.toNonIndexed()).attributes.position).count;j<W;j++)E.setHSL(.3*Math.random()+.5,.75,.25*Math.random()+.75),_.push(E.r,E.g,E.b);z.setAttribute("color",new h.e(_,3));var K=new h.i({vertexColors:!0}),D=new h.h(z,K);r.add(D);for(var H=new h.a(5,5,5).toNonIndexed(),I=[],O=0,R=(C=H.attributes.position).count;O<R;O++)E.setHSL(.3*Math.random()+.5,.75,.25*Math.random()+.75),I.push(E.r,E.g,E.b);H.setAttribute("color",new h.e(I,3));for(var N=0;N<64;N++){var B=new h.j({specular:16777215,flatShading:!0,vertexColors:!0});B.color.setHSL(.2*Math.random()+.5,.75,.25*Math.random()+.75);var P=new h.h(H,B);P.position.x=5*Math.floor(10*Math.random()-10),P.position.y=5*Math.floor(10*Math.random())+2.5,P.position.z=5*Math.floor(10*Math.random()-10),r.add(P),v.push(P)}(c=new h.p({antialias:!0})).setPixelRatio(window.devicePixelRatio),c.setSize(e.clientWidth,e.clientHeight),e.appendChild(c.domElement),window.addEventListener("resize",this.onWindowResize)},animate:function(){requestAnimationFrame(this.animate);var time=w.performance.now();if(!0===d.isLocked){l.ray.origin.copy(d.getObject().position),l.ray.origin.y-=2.5;var e=l.intersectObjects(v,!1).length>0,t=(time-z)/1e3;A.x-=10*A.x*t,A.z-=10*A.z*t,A.y-=137.5*t,C.z=Number(y)-Number(f),C.x=Number(k)-Number(x),C.normalize(),(y||f)&&(A.z-=400*C.z*t),(x||k)&&(A.x-=400*C.x*t),!0===e&&(A.y=Math.max(0,A.y),M=!0),d.moveRight(-A.x*t),d.moveForward(-A.z*t),d.getObject().position.y+=A.y*t,d.getObject().position.y<10&&(A.y=0,d.getObject().position.y=10,M=!0)}z=time,c.render(r,o)},onWindowResize:function(){var e=document.getElementById("canvas");o.aspect=e.clientWidth/e.clientHeight,o.updateProjectionMatrix(),c.setSize(e.clientWidth,e.clientHeight)}}},_=n(2),component=Object(_.a)(S,(function(){this._self._c;return this._m(0)}),[function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"overflow-hidden relative mx-auto rounded ring-2 ring-gray-200",staticStyle:{height:"480px","caret-color":"transparent"},attrs:{id:"canvas"}},[t("div",{staticClass:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",attrs:{id:"blocker"}},[t("div",{staticClass:"py-5 px-8 bg-gray-50 rounded shadow",attrs:{id:"instructions"}},[t("div",{staticClass:"flex flex-col"},[t("h2",{staticClass:"mx-auto text-lg font-semibold text-gray-700"},[e._v("\n            Click to play\n          ")]),e._v(" "),t("div",{staticClass:"mt-1 text-sm text-gray-900"},[t("p",{staticClass:"text-center"},[e._v("Move: WASD, Space")]),e._v(" "),t("p",{staticClass:"text-center"},[e._v("Camera: Mouse")]),e._v(" "),t("p",{staticClass:"text-center"},[e._v("Pause: Esc")])])])])])])])}],!1,null,null,null);t.default=component.exports}}]);